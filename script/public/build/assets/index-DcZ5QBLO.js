import{p as ie,a as ne}from"./formatters-COAB7S_x.js";import{p as ue}from"./paginationMeta-BbY5dJ0C.js";import{r as y,e as de}from"./validators-DD7Euqo8.js";import{r as n,o as B,e as W,w as l,a as e,u as t,i as c,R as me,V as R,d as g,Z,g as ce,v as G,x as X,c as $,b as m,F as pe,j as fe,t as V,z as ve,h as k}from"./main-Cw78g-lL.js";import{_ as Ve}from"./AppDrawerHeaderSection-DQSFeDAa.js";import{P as ge}from"./vue3-perfect-scrollbar.esm-Bq_YvC2Z.js";import{V as j}from"./VDivider-qVXjHTOM.js";import{V as J,a as be,c as he}from"./VCard-DLuue0SI.js";import{V as M}from"./VCardText-CmcafK4F.js";import{V as we}from"./VForm-CQfhZNSg.js";import{a as H,V as f}from"./VRow-BG5I4kc3.js";import{V as L}from"./VTextField-BKkE6jAr.js";import{V as x}from"./VSelect-Bd1XwiRx.js";import{V as ye}from"./VNavigationDrawer-C2oWxnQR.js";import{u as _e}from"./useApi-DW-wMX_v.js";import{c as xe}from"./createUrl-DmHIyhWr.js";import{$ as Y}from"./api-COQrmxD3.js";import{_ as Ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as ee}from"./VAvatar-BFNrWSvb.js";import{V as Se}from"./VSpacer-B4bUzx1D.js";import{V as Ce}from"./VDataTableServer-BGBcjNhp.js";import{V as Pe}from"./VImg-DHwMjE9V.js";import{V as ke}from"./VChip-BmMdWnsY.js";import{V as De}from"./VMenu-DypGLeY7.js";import{V as qe,a as le,b as ae}from"./VList-DJjA2_W7.js";import"./helpers-cDhjtOJI.js";import"./form-wczSFyJg.js";import"./forwardRefs-C-GTDzx5.js";/* empty css              *//* empty css                   */import"./VCounter-Dgzvj9pV.js";import"./index-DhMs0plD.js";import"./VField-Chh8HzJD.js";import"./easing-DY7PVvcf.js";import"./VInput-B2AKhCeD.js";import"./dialog-transition-DYOtB0Vc.js";import"./VOverlay-DS9RY67J.js";import"./lazy-Dz28_Vpk.js";import"./scopeId-Dq-41LqQ.js";import"./VCheckboxBtn-BX36Snjb.js";import"./VSelectionControl-DVPi5H3e.js";import"./ssrBoot-B8feSXE9.js";import"./index-CvdUsmOx.js";import"./VDataTable-2oej71_N.js";import"./VPagination-khwqltKr.js";import"./VTable-BzqFprxi.js";import"./filter-OYWg6emF.js";import"./VSlideGroup-BHv8mlqE.js";const Ae={__name:"AddNewUserDrawer",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen","userData"],setup(K,{emit:D}){const I=K,h=D,_=n(!1),v=n(),w=n(""),p=n(""),u=n(""),U=n(""),S=n(),b=n(""),q=n(),A=n(),C=n(),z=()=>{h("update:isDrawerOpen",!1),Z(()=>{var r,s;(r=v.value)==null||r.reset(),(s=v.value)==null||s.resetValidation()})},O=()=>{var r;(r=v.value)==null||r.validate().then(({valid:s})=>{s&&(h("userData",{id:0,fullName:w.value,company:U.value,role:q.value,username:p.value,country:S.value,contact:b.value,email:u.value,currentPlan:A.value,status:C.value,avatar:""}),h("update:isDrawerOpen",!1),Z(()=>{var N,i;(N=v.value)==null||N.reset(),(i=v.value)==null||i.resetValidation()}))})},P=r=>{h("update:isDrawerOpen",r)};return(r,s)=>{const N=Ve;return B(),W(ye,{temporary:"",width:400,location:"end",class:"scrollable-content","model-value":I.isDrawerOpen,"onUpdate:modelValue":P},{default:l(()=>[e(N,{title:"Add User",onCancel:z}),e(j),e(t(ge),{options:{wheelPropagation:!1}},{default:l(()=>[e(J,{flat:""},{default:l(()=>[e(M,null,{default:l(()=>[e(we,{ref_key:"refForm",ref:v,modelValue:t(_),"onUpdate:modelValue":s[9]||(s[9]=i=>c(_)?_.value=i:null),onSubmit:me(O,["prevent"])},{default:l(()=>[e(H,null,{default:l(()=>[e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(w),"onUpdate:modelValue":s[0]||(s[0]=i=>c(w)?w.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Full Name",placeholder:"John Doe"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(p),"onUpdate:modelValue":s[1]||(s[1]=i=>c(p)?p.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Username",placeholder:"Johndoe"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(u),"onUpdate:modelValue":s[2]||(s[2]=i=>c(u)?u.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y),"emailValidator"in r?r.emailValidator:t(de)],label:"Email",placeholder:"johndoe@email.com"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(U),"onUpdate:modelValue":s[3]||(s[3]=i=>c(U)?U.value=i:null),rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Company",placeholder:"Pixinvent"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(x,{modelValue:t(S),"onUpdate:modelValue":s[4]||(s[4]=i=>c(S)?S.value=i:null),label:"Select Country",placeholder:"Select Country",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:["United States","United Kingdom","France"]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(L,{modelValue:t(b),"onUpdate:modelValue":s[5]||(s[5]=i=>c(b)?b.value=i:null),type:"number",rules:["requiredValidator"in r?r.requiredValidator:t(y)],label:"Contact",placeholder:"+1-541-754-3010"},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(x,{modelValue:t(q),"onUpdate:modelValue":s[6]||(s[6]=i=>c(q)?q.value=i:null),label:"Select Role",placeholder:"Select Role",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:["Admin","Author","Editor","Maintainer","Subscriber"]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(x,{modelValue:t(A),"onUpdate:modelValue":s[7]||(s[7]=i=>c(A)?A.value=i:null),label:"Select Plan",placeholder:"Select Plan",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:["Basic","Company","Enterprise","Team"]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(x,{modelValue:t(C),"onUpdate:modelValue":s[8]||(s[8]=i=>c(C)?C.value=i:null),label:"Select Status",placeholder:"Select Status",rules:["requiredValidator"in r?r.requiredValidator:t(y)],items:[{title:"Active",value:"Active"},{title:"Inactive",value:"Inactive"},{title:"Pending",value:"Pending"}]},null,8,["modelValue","rules"])]),_:1}),e(f,{cols:"12"},{default:l(()=>[e(R,{type:"submit",class:"me-4"},{default:l(()=>[g(" Submit ")]),_:1}),e(R,{type:"reset",variant:"outlined",color:"error",onClick:z},{default:l(()=>[g(" Cancel ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}},Ne={class:"d-flex mb-6"},Te={class:"d-flex justify-space-between"},Be={class:"d-flex flex-column gap-y-1"},Le={class:"text-base text-high-emphasis"},Re={class:"text-h4 d-flex align-center gap-2"},ze={class:"text-sm mb-0"},Ie={class:"d-flex align-center gap-4 flex-wrap"},Ee={class:"app-user-search-filter"},Me={class:"d-flex align-center"},Oe={key:1},Fe={class:"d-flex flex-column"},$e={class:"text-sm text-medium-emphasis"},We={class:"d-flex gap-2"},je={class:"text-capitalize text-high-emphasis"},Je={class:"text-capitalize text-high-emphasis"},He={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},Ke={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},Qe={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},Ze={class:"d-flex gap-x-2 align-center me-2"},Ge={__name:"index",async setup(K){let D,I;const h=n(""),_=n(),v=n(),w=n(),p=n(10),u=n(1),U=n(),S=n(),b=n([]),q=d=>{var o,T;u.value=d.page,U.value=(o=d.sortBy[0])==null?void 0:o.key,S.value=(T=d.sortBy[0])==null?void 0:T.order},A=[{title:"User",key:"user"},{title:"Email",key:"email"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:C,execute:z}=([D,I]=ce(()=>_e(xe("/apps/users",{query:{q:h,status:w,plan:v,role:_,itemsPerPage:p,page:u,sortBy:U,orderBy:S}}))),D=await D,I(),D),O=G(()=>C.value.users),P=G(()=>C.value.totalUsers),r=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],s=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],N=[{title:"Pending",value:"Pending"},{title:"Active",value:"Active"},{title:"Inactive",value:"Inactive"}],i=d=>{const o=d.toLowerCase();return o==="subscriber"?{color:"success",icon:"ri-user-line"}:o==="author"?{color:"error",icon:"ri-computer-line"}:o==="maintainer"?{color:"info",icon:"ri-pie-chart-line"}:o==="editor"?{color:"warning",icon:"ri-edit-box-line"}:o==="admin"?{color:"primary",icon:"ri-vip-crown-line"}:{color:"success",icon:"ri-user-line"}},te=d=>{const o=d.toLowerCase();return o==="pending"?"warning":o==="active"?"success":o==="inactive"?"secondary":"primary"},E=n(!1),oe=async d=>{await Y("/apps/users",{method:"POST",body:d}),z()},re=async d=>{await Y(`/apps/users/${d}`,{method:"DELETE"});const o=b.value.findIndex(T=>T===d);o!==-1&&b.value.splice(o,1),z()},se=n([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"ri-group-line",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"ri-user-add-line",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"ri-user-follow-line",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"ri-user-search-line",iconColor:"warning"}]);return(d,o)=>{const T=X("RouterLink"),F=X("IconBtn");return B(),$("section",null,[m("div",Ne,[e(H,null,{default:l(()=>[(B(!0),$(pe,null,fe(t(se),(a,Q)=>(B(),W(f,{key:Q,cols:"12",md:"3",sm:"6"},{default:l(()=>[e(J,null,{default:l(()=>[e(M,null,{default:l(()=>[m("div",Te,[m("div",Be,[m("span",Le,V(a.title),1),m("h4",Re,[g(V(a.value)+" ",1),m("span",{class:ve(["text-base font-weight-regular",a.change>0?"text-success":"text-error"])},"("+V(("prefixWithPlus"in d?d.prefixWithPlus:t(ie))(a.change))+"%)",3)]),m("p",ze,V(a.desc),1)]),e(ee,{color:a.iconColor,variant:"tonal",rounded:"",size:"42"},{default:l(()=>[e(k,{icon:a.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),e(J,{class:"mb-6"},{default:l(()=>[e(be,{class:"pb-4"},{default:l(()=>[e(he,null,{default:l(()=>[g("Filters")]),_:1})]),_:1}),e(M,null,{default:l(()=>[e(H,null,{default:l(()=>[e(f,{cols:"12",sm:"4"},{default:l(()=>[e(x,{modelValue:t(_),"onUpdate:modelValue":o[0]||(o[0]=a=>c(_)?_.value=a:null),label:"Select Role",placeholder:"Select Role",items:r,clearable:"","clear-icon":"ri-close-line"},null,8,["modelValue"])]),_:1}),e(f,{cols:"12",sm:"4"},{default:l(()=>[e(x,{modelValue:t(v),"onUpdate:modelValue":o[1]||(o[1]=a=>c(v)?v.value=a:null),label:"Select Plan",placeholder:"Select Plan",items:s,clearable:"","clear-icon":"ri-close-line"},null,8,["modelValue"])]),_:1}),e(f,{cols:"12",sm:"4"},{default:l(()=>[e(x,{modelValue:t(w),"onUpdate:modelValue":o[2]||(o[2]=a=>c(w)?w.value=a:null),label:"Select Status",placeholder:"Select Status",items:N,clearable:"","clear-icon":"ri-close-line"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(j),e(M,{class:"d-flex flex-wrap gap-4 align-center"},{default:l(()=>[e(R,{variant:"outlined",color:"secondary","prepend-icon":"ri-upload-2-line"},{default:l(()=>[g(" Export ")]),_:1}),e(Se),m("div",Ie,[m("div",Ee,[e(L,{modelValue:t(h),"onUpdate:modelValue":o[3]||(o[3]=a=>c(h)?h.value=a:null),placeholder:"Search User",density:"compact"},null,8,["modelValue"])]),e(R,{onClick:o[4]||(o[4]=a=>E.value=!0)},{default:l(()=>[g(" Add New User ")]),_:1})])]),_:1}),e(Ce,{"model-value":t(b),"onUpdate:modelValue":o[8]||(o[8]=a=>c(b)?b.value=a:null),"items-per-page":t(p),"onUpdate:itemsPerPage":o[9]||(o[9]=a=>c(p)?p.value=a:null),page:t(u),"onUpdate:page":o[10]||(o[10]=a=>c(u)?u.value=a:null),items:t(O),"item-value":"id","items-length":t(P),headers:A,"show-select":"",class:"text-no-wrap rounded-0","onUpdate:options":q},{"item.user":l(({item:a})=>[m("div",Me,[e(ee,{size:"34",variant:a.avatar?void 0:"tonal",color:a.avatar?void 0:i(a.role).color,class:"me-3"},{default:l(()=>[a.avatar?(B(),W(Pe,{key:0,src:a.avatar},null,8,["src"])):(B(),$("span",Oe,V(("avatarText"in d?d.avatarText:t(ne))(a.fullName)),1))]),_:2},1032,["variant","color"]),m("div",Fe,[e(T,{to:{name:"apps-user-view-id",params:{id:a.id}},class:"text-link text-base font-weight-medium"},{default:l(()=>[g(V(a.fullName),1)]),_:2},1032,["to"]),m("span",$e,"@"+V(a.username),1)])])]),"item.role":l(({item:a})=>[m("div",We,[e(k,{icon:i(a.role).icon,color:i(a.role).color,size:"22"},null,8,["icon","color"]),m("span",je,V(a.role),1)])]),"item.plan":l(({item:a})=>[m("span",Je,V(a.currentPlan),1)]),"item.status":l(({item:a})=>[e(ke,{color:te(a.status),size:"small",class:"text-capitalize"},{default:l(()=>[g(V(a.status),1)]),_:2},1032,["color"])]),"item.actions":l(({item:a})=>[e(F,{size:"small",onClick:Q=>re(a.id)},{default:l(()=>[e(k,{icon:"ri-delete-bin-7-line"})]),_:2},1032,["onClick"]),e(F,{size:"small",to:{name:"apps-user-view-id",params:{id:a.id}}},{default:l(()=>[e(k,{icon:"ri-eye-line"})]),_:2},1032,["to"]),e(F,{size:"small",color:"medium-emphasis"},{default:l(()=>[e(k,{icon:"ri-more-2-line"}),e(De,{activator:"parent"},{default:l(()=>[e(qe,null,{default:l(()=>[e(le,{link:""},{prepend:l(()=>[e(k,{icon:"ri-download-line"})]),default:l(()=>[e(ae,null,{default:l(()=>[g("Download")]),_:1})]),_:1}),e(le,{link:""},{prepend:l(()=>[e(k,{icon:"ri-edit-box-line"})]),default:l(()=>[e(ae,null,{default:l(()=>[g("Edit")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),bottom:l(()=>[e(j),m("div",He,[m("div",Ke,[g(" Rows Per Page: "),e(x,{modelValue:t(p),"onUpdate:modelValue":o[5]||(o[5]=a=>c(p)?p.value=a:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),m("p",Qe,V(("paginationMeta"in d?d.paginationMeta:t(ue))({page:t(u),itemsPerPage:t(p)},t(P))),1),m("div",Ze,[e(R,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:t(u)<=1,onClick:o[6]||(o[6]=a=>t(u)<=1?u.value=1:u.value--)},null,8,["disabled"]),e(R,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:t(u)>=Math.ceil(t(P)/t(p)),onClick:o[7]||(o[7]=a=>t(u)>=Math.ceil(t(P)/t(p))?u.value=Math.ceil(t(P)/t(p)):u.value++)},null,8,["disabled"])])])]),_:1},8,["model-value","items-per-page","page","items","items-length"])]),_:1}),e(Ae,{isDrawerOpen:t(E),"onUpdate:isDrawerOpen":o[11]||(o[11]=a=>c(E)?E.value=a:null),onUserData:oe},null,8,["isDrawerOpen"])])}}},Jl=Ue(Ge,[["__scopeId","data-v-547773ef"]]);export{Jl as default};
