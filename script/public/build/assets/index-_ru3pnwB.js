import{a as H}from"./formatters-COAB7S_x.js";import{p as J}from"./paginationMeta-BbY5dJ0C.js";import{u as K}from"./useApi-DW-wMX_v.js";import{c as W}from"./createUrl-DmHIyhWr.js";import{$ as X}from"./api-COQrmxD3.js";import{V as D,c as Y}from"./VCard-DLuue0SI.js";import{V as A}from"./VCardText-CmcafK4F.js";import{a as Z,V as ee}from"./VRow-BG5I4kc3.js";import{V as C}from"./VAvatar-BFNrWSvb.js";import{r as u,g as te,v as $,x as E,u as a,o as d,c as h,a as t,w as i,F as L,j as ae,b as n,t as r,h as V,z as ie,e as S,f as oe,V as z,d as m,i as g,a6 as le}from"./main-Cw78g-lL.js";import{V as ne}from"./VSpacer-B4bUzx1D.js";import{V as se}from"./VTextField-BKkE6jAr.js";import{V as R}from"./VSelect-Bd1XwiRx.js";import{V as re}from"./VDataTableServer-BGBcjNhp.js";import{V as ce}from"./VTooltip-Csjob21H.js";import{V as de}from"./VImg-DHwMjE9V.js";import{V as pe}from"./VChip-BmMdWnsY.js";import{V as ue}from"./VMenu-DypGLeY7.js";import{V as me}from"./VList-DJjA2_W7.js";import{V as F}from"./VDivider-qVXjHTOM.js";import"./helpers-cDhjtOJI.js";import"./index-CvdUsmOx.js";/* empty css              *//* empty css                   */import"./VCounter-Dgzvj9pV.js";import"./index-DhMs0plD.js";import"./VField-Chh8HzJD.js";import"./form-wczSFyJg.js";import"./easing-DY7PVvcf.js";import"./VInput-B2AKhCeD.js";import"./forwardRefs-C-GTDzx5.js";import"./dialog-transition-DYOtB0Vc.js";import"./VOverlay-DS9RY67J.js";import"./lazy-Dz28_Vpk.js";import"./scopeId-Dq-41LqQ.js";import"./VCheckboxBtn-BX36Snjb.js";import"./VSelectionControl-DVPi5H3e.js";import"./VDataTable-2oej71_N.js";import"./VPagination-khwqltKr.js";import"./VTable-BzqFprxi.js";import"./filter-OYWg6emF.js";import"./VSlideGroup-BHv8mlqE.js";import"./ssrBoot-B8feSXE9.js";const ve={key:0},fe={class:"d-flex flex-column"},he={class:"text-h4"},ge={class:"text-body-1 text-capitalize"},_e={class:"d-flex align-center flex-wrap gap-4"},ye={style:{"inline-size":"250px"}},Ve={style:{"inline-size":"175px"}},xe={class:"mb-0"},be={class:"mb-0"},we={class:"mb-0"},ke={class:"d-flex align-center"},Ie={key:1},Pe={class:"d-flex flex-column"},De={class:"text-body-2"},Ce={key:1,class:"text-h6 font-weight-regular"},$e={class:"text-no-wrap"},Se={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},ze={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},Be={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},Ue={class:"d-flex gap-x-2 align-center me-2"},Te={key:1},It={__name:"index",async setup(Me){let x,B;const b=u(""),w=u(null),_=u([]),c=u(10),s=u(1),U=u(),T=u(),j=o=>{var l,v;s.value=o.page,U.value=(l=o.sortBy[0])==null?void 0:l.key,T.value=(v=o.sortBy[0])==null?void 0:v.order},k=u([{title:"Clients",value:24,icon:"ri-user-3-line"},{title:"Invoices",value:165,icon:"ri-pages-line"},{title:"Paid",value:"$2.46k",icon:"ri-wallet-line"},{title:"Unpaid",value:"$876",icon:"ri-money-dollar-circle-line"}]),q=[{title:"#",key:"id"},{title:"Status",key:"trending",sortable:!1},{title:"Client",key:"client"},{title:"Total",key:"total"},{title:"Issued Date",key:"date"},{title:"Balance",key:"balance"},{title:"Actions",key:"actions",sortable:!1}],{data:M,execute:O}=([x,B]=te(()=>K(W("/apps/invoice",{query:{q:b,status:w,itemsPerPage:c,page:s,sortBy:U,orderBy:T}}))),x=await x,B(),x),N=$(()=>M.value.invoices),y=$(()=>M.value.totalInvoices),f=(o,l)=>o===l?{status:"Unpaid",chip:{color:"error"}}:o===0?{status:"Paid",chip:{color:"success"}}:{status:o,chip:{variant:"text"}},I=o=>o==="Partial Payment"?{variant:"warning",icon:"ri-line-chart-line"}:o==="Paid"?{variant:"success",icon:"ri-check-line"}:o==="Downloaded"?{variant:"info",icon:"ri-arrow-down-line"}:o==="Draft"?{variant:"secondary",icon:"ri-save-line"}:o==="Sent"?{variant:"primary",icon:"ri-mail-line"}:o==="Past Due"?{variant:"error",icon:"ri-error-warning-line"}:{variant:"secondary",icon:"ri-close-line"},Q=$(()=>o=>[{title:"Download",value:"download",prependIcon:"ri-download-line"},{title:"Edit",value:"edit",prependIcon:"ri-pencil-line",to:{name:"apps-invoice-edit-id",params:{id:o}}},{title:"Duplicate",value:"duplicate",prependIcon:"ri-stack-line"}]),G=async o=>{await X(`/apps/invoice/${o}`,{method:"DELETE"});const l=_.value.findIndex(v=>Number(v)===o);l!==-1&&_.value.splice(l,1),O()};return(o,l)=>{const v=E("RouterLink"),P=E("IconBtn");return a(N)?(d(),h("section",ve,[t(D,{class:"mb-6"},{default:i(()=>[t(A,{class:"px-2"},{default:i(()=>[t(Z,null,{default:i(()=>[(d(!0),h(L,null,ae(a(k),(e,p)=>(d(),h(L,{key:p},[t(ee,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:i(()=>[n("div",{class:ie(["d-flex justify-space-between",o.$vuetify.display.xs?p!==a(k).length-1?"border-b pb-4":"":o.$vuetify.display.sm&&p<a(k).length/2?"border-b pb-4":""])},[n("div",fe,[n("h4",he,r(e.value),1),n("span",ge,r(e.title),1)]),t(C,{variant:"tonal",rounded:"",size:"42"},{default:i(()=>[t(V,{icon:e.icon,size:"26",color:"high-emphasis"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(o.$vuetify.display.mdAndUp?p!==a(k).length-1:o.$vuetify.display.smAndUp&&p%2===0)?(d(),S(F,{key:0,vertical:"",inset:"",length:"60"})):oe("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),t(D,{id:"invoice-list"},{default:i(()=>[t(A,{class:"d-flex align-center flex-wrap gap-4"},{default:i(()=>[t(z,{"prepend-icon":"ri-add-line",to:{name:"apps-invoice-add"}},{default:i(()=>[m(" Create invoice ")]),_:1}),t(ne),n("div",_e,[n("div",ye,[t(se,{modelValue:a(b),"onUpdate:modelValue":l[0]||(l[0]=e=>g(b)?b.value=e:null),placeholder:"Search Invoice"},null,8,["modelValue"])]),n("div",Ve,[t(R,{modelValue:a(w),"onUpdate:modelValue":l[1]||(l[1]=e=>g(w)?w.value=e:null),placeholder:"Invoice Status",clearable:"","clear-icon":"ri-close-line",items:["Downloaded","Draft","Sent","Paid","Partial Payment","Past Due"]},null,8,["modelValue"])])])]),_:1}),t(re,{modelValue:a(_),"onUpdate:modelValue":l[5]||(l[5]=e=>g(_)?_.value=e:null),"items-per-page":a(c),"onUpdate:itemsPerPage":l[6]||(l[6]=e=>g(c)?c.value=e:null),page:a(s),"onUpdate:page":l[7]||(l[7]=e=>g(s)?s.value=e:null),"show-select":"","items-length":a(y),headers:q,items:a(N),"item-value":"id",class:"text-no-wrap rounded-0","onUpdate:options":j},{"item.id":i(({item:e})=>[t(v,{to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:i(()=>[m(" #"+r(e.id),1)]),_:2},1032,["to"])]),"item.trending":i(({item:e})=>[t(ce,null,{activator:i(({props:p})=>[t(C,le({size:28},p,{color:I(e.invoiceStatus).variant,variant:"tonal"}),{default:i(()=>[t(V,{size:16,icon:I(e.invoiceStatus).icon},null,8,["icon"])]),_:2},1040,["color"])]),default:i(()=>[n("p",xe,r(e.invoiceStatus),1),n("p",be," Balance: "+r(e.balance),1),n("p",we," Due date: "+r(e.dueDate),1)]),_:2},1024)]),"item.client":i(({item:e})=>[n("div",ke,[t(C,{size:"34",color:e.avatar.length?void 0:I(e.invoiceStatus).variant,variant:e.avatar.length?void 0:"tonal",class:"me-3"},{default:i(()=>[e.avatar.length?(d(),S(de,{key:0,src:e.avatar},null,8,["src"])):(d(),h("span",Ie,r(("avatarText"in o?o.avatarText:a(H))(e.client.name)),1))]),_:2},1032,["color","variant"]),n("div",Pe,[t(v,{to:{name:"pages-user-profile-tab",params:{tab:"profile"}},class:"text-link text-base font-weight-medium mb-0"},{default:i(()=>[m(r(e.client.name),1)]),_:2},1024),n("span",De,r(e.client.companyEmail),1)])])]),"item.total":i(({item:e})=>[m(" $"+r(e.total),1)]),"item.date":i(({item:e})=>[m(r(e.issuedDate),1)]),"item.balance":i(({item:e})=>[typeof f(e.balance,e.total).status=="string"?(d(),S(pe,{key:0,color:f(e.balance,e.total).chip.color,size:"small"},{default:i(()=>[m(r(f(e.balance,e.total).status),1)]),_:2},1032,["color"])):(d(),h("h6",Ce,r(Number(f(e.balance,e.total).status)>0?`$${f(e.balance,e.total).status}`:`-$${Math.abs(Number(f(e.balance,e.total).status))}`),1))]),"item.actions":i(({item:e})=>[n("div",$e,[t(P,{size:"small",onClick:p=>G(e.id)},{default:i(()=>[t(V,{icon:"ri-delete-bin-7-line"})]),_:2},1032,["onClick"]),t(P,{size:"small",to:{name:"apps-invoice-preview-id",params:{id:e.id}}},{default:i(()=>[t(V,{icon:"ri-eye-line"})]),_:2},1032,["to"]),t(P,{size:"small"},{default:i(()=>[t(V,{icon:"ri-more-2-line"}),t(ue,{activator:"parent"},{default:i(()=>[t(me,{items:a(Q)(e.id),"item-props":""},null,8,["items"])]),_:2},1024)]),_:2},1024)])]),bottom:i(()=>[t(F),n("div",Se,[n("div",ze,[m(" Rows Per Page: "),t(R,{modelValue:a(c),"onUpdate:modelValue":l[2]||(l[2]=e=>g(c)?c.value=e:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",Be,r(("paginationMeta"in o?o.paginationMeta:a(J))({page:a(s),itemsPerPage:a(c)},a(y))),1),n("div",Ue,[t(z,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:a(s)<=1,onClick:l[3]||(l[3]=e=>a(s)<=1?s.value=1:s.value--)},null,8,["disabled"]),t(z,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:a(s)>=Math.ceil(a(y)/a(c)),onClick:l[4]||(l[4]=e=>a(s)>=Math.ceil(a(y)/a(c))?s.value=Math.ceil(a(y)/a(c)):s.value++)},null,8,["disabled"])])])]),_:1},8,["modelValue","items-per-page","page","items-length","items"])]),_:1})])):(d(),h("section",Te,[t(D,null,{default:i(()=>[t(Y,null,{default:i(()=>[m("No Invoice Found")]),_:1})]),_:1})]))}}};export{It as default};
