import{m as Y,a as Z,b as $,c as ee,d as ae,e as te,f as oe,u as re,p as le,g as se,h as ue,i as de,j as ne,k as ie,l as ce,n as D,o as V,q as x}from"./VDataTable-2oej71_N.js";import{ao as me,aq as ge,v as m,aJ as r,bt as ve,aP as pe,ar as be,a as o,F as w,a6 as g}from"./main-Cw78g-lL.js";import{V as B}from"./VTable-BzqFprxi.js";import{V as Pe}from"./VDivider-qVXjHTOM.js";const ye=me({itemsLength:{type:[Number,String],required:!0},...Y(),...Z(),...$()},"VDataTableServer"),De=ge()({name:"VDataTableServer",props:ye(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,I){let{attrs:k,slots:a}=I;const{groupBy:u}=ee(e),{sortBy:l,multiSort:F,mustSort:G}=ae(e),{page:d,itemsPerPage:i}=te(e),R=m(()=>parseInt(e.itemsLength,10)),{columns:v,headers:E}=oe(e,{groupBy:u,showSelect:r(e,"showSelect"),showExpand:r(e,"showExpand")}),{items:n}=re(e,v),{toggleSort:p}=le({sortBy:l,multiSort:F,mustSort:G,page:d}),{opened:H,isGroupOpen:N,toggleGroup:_,extractRows:q}=se({groupBy:u,sortBy:l}),{pageCount:C,setItemsPerPage:L}=ue({page:d,itemsPerPage:i,itemsLength:R}),{flatItems:b}=de(n,u,H),{isSelected:O,select:j,selectAll:A,toggleSelect:J,someSelected:W,allSelected:z}=ne(e,{allItems:n,currentPage:n}),{isExpanded:K,toggleExpand:M}=ie(e),P=m(()=>q(n.value));ce({page:d,itemsPerPage:i,sortBy:l,groupBy:u,search:r(e,"search")}),ve("v-data-table",{toggleSort:p,sortBy:l}),pe({VDataTableRows:{hideNoData:r(e,"hideNoData"),noDataText:r(e,"noDataText"),loading:r(e,"loading"),loadingText:r(e,"loadingText")}});const t=m(()=>({page:d.value,itemsPerPage:i.value,sortBy:l.value,pageCount:C.value,toggleSort:p,setItemsPerPage:L,someSelected:W.value,allSelected:z.value,isSelected:O,select:j,selectAll:A,toggleSelect:J,isExpanded:K,toggleExpand:M,isGroupOpen:N,toggleGroup:_,items:P.value.map(c=>c.raw),internalItems:P.value,groupedItems:b.value,columns:v.value,headers:E.value}));be(()=>{const c=D.filterProps(e),Q=V.filterProps(e),U=x.filterProps(e),X=B.filterProps(e);return o(B,g({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},X),{top:()=>{var s;return(s=a.top)==null?void 0:s.call(a,t.value)},default:()=>{var s,y,T,S,f,h;return a.default?a.default(t.value):o(w,null,[(s=a.colgroup)==null?void 0:s.call(a,t.value),o("thead",{class:"v-data-table__thead",role:"rowgroup"},[o(V,g(Q,{sticky:e.fixedHeader}),a)]),(y=a.thead)==null?void 0:y.call(a,t.value),o("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(T=a["body.prepend"])==null?void 0:T.call(a,t.value),a.body?a.body(t.value):o(x,g(k,U,{items:b.value}),a),(S=a["body.append"])==null?void 0:S.call(a,t.value)]),(f=a.tbody)==null?void 0:f.call(a,t.value),(h=a.tfoot)==null?void 0:h.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):o(w,null,[o(Pe,null,null),o(D,c,{prepend:a["footer.prepend"]})])})})}});export{De as V};
