import{a as F,f as le,b as re}from"./formatters-COAB7S_x.js";import{N as ce,x as E,u as e,o as c,c as _,b as a,a as t,w as l,h as p,z as S,e as $,t as b,V as L,d as N,F as k,f as I,v as R,_ as de,i as V,j as O,P as K,Q as W,r as w,$ as ue,a0 as he,A as me,a1 as fe,a2 as X,R as pe,Z as Y}from"./main-Cw78g-lL.js";import{P as q}from"./vue3-perfect-scrollbar.esm-Bq_YvC2Z.js";import{u as ve}from"./useApi-DW-wMX_v.js";import{c as _e}from"./createUrl-DmHIyhWr.js";import{$ as G}from"./api-COQrmxD3.js";import{V as A}from"./VAvatar-BFNrWSvb.js";import{V as z}from"./VImg-DHwMjE9V.js";import{V as T}from"./VBadge-hYR-JcPm.js";import{V as ae}from"./VTextField-BKkE6jAr.js";import{V as se}from"./VDivider-qVXjHTOM.js";import{V as ge}from"./VTextarea-Bm1ez4Lx.js";import{V as Ce,a as be}from"./VRadioGroup-Uf1JckNr.js";import{V as J}from"./VSpacer-B4bUzx1D.js";import{V as ee}from"./VSwitch-CMI6vM0W.js";import{u as xe,a as ye,V as $e}from"./VMain-CpjONLyH.js";import{V as j}from"./VNavigationDrawer-C2oWxnQR.js";import{V as Ve}from"./VMenu-DypGLeY7.js";import{V as we}from"./VList-DJjA2_W7.js";import{V as ke}from"./VForm-CQfhZNSg.js";import"./helpers-cDhjtOJI.js";import"./index-CvdUsmOx.js";/* empty css                   */import"./VCounter-Dgzvj9pV.js";import"./index-DhMs0plD.js";import"./VField-Chh8HzJD.js";import"./form-wczSFyJg.js";import"./easing-DY7PVvcf.js";import"./VInput-B2AKhCeD.js";import"./forwardRefs-C-GTDzx5.js";import"./VSelectionControl-DVPi5H3e.js";/* empty css              */import"./ssrBoot-B8feSXE9.js";import"./scopeId-Dq-41LqQ.js";import"./VOverlay-DS9RY67J.js";import"./lazy-Dz28_Vpk.js";import"./dialog-transition-DYOtB0Vc.js";const P=()=>({resolveAvatarBadgeVariant:o=>o==="online"?"success":o==="busy"?"error":o==="away"?"warning":"secondary"}),B=ce("chat",{state:()=>({contacts:[],chatsContacts:[],profileUser:void 0,activeChat:null}),actions:{async fetchChatsAndContacts(x){const{data:o,error:s}=await ve(_e("/apps/chat/chats-and-contacts",{query:{q:x}}));if(s.value)console.log(s.value);else{const{chatsContacts:u,contacts:v,profileUser:n}=o.value;this.chatsContacts=u,this.contacts=v,this.profileUser=n}},async getChat(x){const o=await G(`/apps/chat/chats/${x}`);this.activeChat=o},async sendMsg(x){var h,i,m,f,r;const o=(h=this.profileUser)==null?void 0:h.id,s=await G(`apps/chat/chats/${(i=this.activeChat)==null?void 0:i.contact.id}`,{method:"POST",body:{message:x,senderId:o}}),{msg:u,chat:v}=s;if(v!==void 0){const U=this.activeChat;this.chatsContacts.push({...U.contact,chat:{id:v.id,lastMessage:[],unseenMsgs:0,messages:[u]}}),this.activeChat&&(this.activeChat.chat={id:v.id,messages:[u],unseenMsgs:0,userId:(m=this.activeChat)==null?void 0:m.contact.id})}else(r=(f=this.activeChat)==null?void 0:f.chat)==null||r.messages.push(u);const n=this.chatsContacts.find(U=>this.activeChat?U.id===this.activeChat.contact.id:!1);n.chat.lastMessage=u}}}),Ue={class:"text-center px-6 mt-n2"},Se={key:1,class:"text-3xl"},Ie={class:"text-h5"},Ae={class:"text-body-1 mb-0"},Te={class:"my-6"},ze=a("p",{for:"textarea-user-about",class:"text-base text-disabled mb-1"}," ABOUT ",-1),Be={class:"text-body-1 mb-0"},De={class:"mb-6"},Me=a("p",{class:"text-base text-disabled mb-1"}," PERSONAL INFORMATION ",-1),Ne={class:"d-flex align-center pa-2"},Oe=a("h6",{class:"text-h6 font-weight-regular"}," lucifer@email.com ",-1),Pe={class:"d-flex align-center pa-2"},Le=a("h6",{class:"text-h6 font-weight-regular"}," +1(123) 456 - 7890 ",-1),Re={class:"d-flex align-center pa-2"},Fe=a("h6",{class:"text-h6 font-weight-regular"}," Mon - Fri 10AM - 8PM ",-1),Ee={class:"pb-5"},qe=a("p",{class:"text-base text-disabled mb-1"}," OPTIONS ",-1),je={class:"d-flex align-center pa-2"},Je=a("h6",{class:"text-h6 font-weight-regular"}," Add Tag ",-1),He={class:"d-flex align-center pa-2"},Qe=a("h6",{class:"text-h6 font-weight-regular"}," Important Contact ",-1),Ze={class:"d-flex align-center pa-2"},Ke=a("h6",{class:"text-h6 font-weight-regular"}," Shared Media ",-1),We={class:"d-flex align-center pa-2"},Xe=a("h6",{class:"text-h6 font-weight-regular"}," Block Contact ",-1),Ye={__name:"ChatActiveChatUserProfileSidebarContent",emits:["close"],setup(x,{emit:o}){const s=B(),{resolveAvatarBadgeVariant:u}=P();return(v,n)=>{const h=E("IconBtn");return e(s).activeChat?(c(),_(k,{key:0},[a("div",{class:S(["me-3 pt-3",v.$vuetify.locale.isRtl?"text-left":"text-right"])},[t(h,{onClick:n[0]||(n[0]=i=>v.$emit("close"))},{default:l(()=>[t(p,{icon:"ri-close-line",class:"text-medium-emphasis",size:"24"})]),_:1})],2),a("div",Ue,[t(T,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(u)(e(s).activeChat.contact.status),class:"chat-user-profile-badge mb-4"},{default:l(()=>[t(A,{size:"84",variant:e(s).activeChat.contact.avatar?void 0:"tonal",color:e(s).activeChat.contact.avatar?void 0:e(u)(e(s).activeChat.contact.status)},{default:l(()=>[e(s).activeChat.contact.avatar?(c(),$(z,{key:0,src:e(s).activeChat.contact.avatar},null,8,["src"])):(c(),_("span",Se,b(("avatarText"in v?v.avatarText:e(F))(e(s).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",Ie,b(e(s).activeChat.contact.fullName),1),a("p",Ae,b(e(s).activeChat.contact.role),1)]),t(e(q),{class:"ps-chat-user-profile-sidebar-content text-medium-emphasis pb-5 px-5",options:{wheelPropagation:!1}},{default:l(()=>[a("div",Te,[ze,a("p",Be,b(e(s).activeChat.contact.about),1)]),a("div",De,[Me,a("div",Ne,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-mail-line"}),Oe]),a("div",Pe,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-phone-line"}),Le]),a("div",Re,[t(p,{class:"me-2",size:"22",icon:"ri-time-line",color:"high-emphasis"}),Fe])]),a("div",Ee,[qe,a("div",je,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-bookmark-line"}),Je]),a("div",He,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-user-star-line"}),Qe]),a("div",Ze,[t(p,{class:"me-2",size:"22",color:"high-emphasis",icon:"ri-image-2-line"}),Ke]),a("div",We,[t(p,{size:"22",color:"high-emphasis",icon:"ri-forbid-2-line",class:"me-2"}),Xe])]),t(L,{block:"",color:"error","append-icon":"ri-delete-bin-7-line",class:"mt-15"},{default:l(()=>[N(" Delete Contact ")]),_:1})]),_:1})],64)):I("",!0)}}},Ge=["data-x"],et={key:1},tt={class:"flex-grow-1 ms-4 overflow-hidden"},at={class:"text-base mb-0"},st={class:"d-block text-body-2 text-truncate"},ot={key:0,class:"d-flex flex-column align-self-start"},it={class:"d-block text-sm text-disabled whitespace-no-wrap"},te={__name:"ChatContact",props:{isChatContact:{type:Boolean,required:!1,default:!1},user:{type:null,required:!0}},setup(x){const o=x,s=B(),{resolveAvatarBadgeVariant:u}=P(),v=R(()=>{var h,i;const n=((h=s.activeChat)==null?void 0:h.contact.id)===o.user.id;return(o.isChatContact||!((i=s.activeChat)!=null&&i.chat))&&n});return(n,h)=>(c(),_("li",{key:e(s).chatsContacts.length,class:S(["chat-contact cursor-pointer d-flex align-center",{"chat-contact-active":e(v)}]),"data-x":e(s).chatsContacts.length},[t(T,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(u)(o.user.status),bordered:"","model-value":o.isChatContact},{default:l(()=>[t(A,{size:"40",variant:o.user.avatar?void 0:"tonal",color:o.user.avatar?void 0:e(u)(o.user.status)},{default:l(()=>[o.user.avatar?(c(),$(z,{key:0,src:o.user.avatar,alt:"John Doe"},null,8,["src"])):(c(),_("span",et,b(("avatarText"in n?n.avatarText:e(F))(x.user.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color","model-value"]),a("div",tt,[a("p",at,b(o.user.fullName),1),a("span",st,b(o.isChatContact&&"chat"in o.user?o.user.chat.lastMessage.message:o.user.about),1)]),o.isChatContact&&"chat"in o.user?(c(),_("div",ot,[a("span",it,b(("formatDateToMonthShort"in n?n.formatDateToMonthShort:e(le))(o.user.chat.lastMessage.time)),1),o.user.chat.unseenMsgs?(c(),$(T,{key:0,color:"error",inline:"",content:o.user.chat.unseenMsgs,class:"ms-auto"},null,8,["content"])):I("",!0)])):I("",!0)],10,Ge))}},nt={key:0,class:"chat-list-header gap-4"},lt=a("li",{class:"list-none"},[a("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium"},"Chats")],-1),rt={class:"no-chat-items-text text-disabled"},ct=a("li",{class:"list-none"},[a("span",{class:"chat-contact-header d-block text-primary text-lg font-weight-medium mt-5"},"Contacts")],-1),dt={class:"no-chat-items-text text-disabled"},ut={__name:"ChatLeftSidebarContent",props:{search:{type:String,required:!0},isDrawerOpen:{type:Boolean,required:!0}},emits:["openChatOfContact","showUserProfile","close","update:search"],setup(x,{emit:o}){const s=x,u=o,{resolveAvatarBadgeVariant:v}=P(),n=de(s,"search",u),h=B();return(i,m)=>{const f=E("IconBtn");return c(),_(k,null,[e(h).profileUser?(c(),_("div",nt,[t(T,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(h).profileUser.status),bordered:""},{default:l(()=>[t(A,{class:"cursor-pointer",onClick:m[0]||(m[0]=r=>i.$emit("showUserProfile"))},{default:l(()=>[t(z,{src:e(h).profileUser.avatar,alt:"John Doe"},null,8,["src"])]),_:1})]),_:1},8,["color"]),t(ae,{modelValue:e(n),"onUpdate:modelValue":m[1]||(m[1]=r=>V(n)?n.value=r:null),placeholder:"Search...","prepend-inner-icon":"ri-search-line",density:"compact",class:"chat-list-search"},null,8,["modelValue"]),i.$vuetify.display.smAndDown?(c(),$(f,{key:0,onClick:m[2]||(m[2]=r=>i.$emit("close"))},{default:l(()=>[t(p,{icon:"ri-close-line",class:"text-medium-emphasis"})]),_:1})):I("",!0)])):I("",!0),t(se),t(e(q),{tag:"ul",class:"chat-contacts-list px-3 d-flex flex-column gap-1",options:{wheelPropagation:!1}},{default:l(()=>[lt,(c(!0),_(k,null,O(e(h).chatsContacts,r=>(c(),$(te,{key:`chat-${r.id}`,user:r,"is-chat-contact":"",onClick:U=>i.$emit("openChatOfContact",r.id)},null,8,["user","onClick"]))),128)),K(a("span",rt,"No chats found",512),[[W,!e(h).chatsContacts.length]]),ct,(c(!0),_(k,null,O(e(h).contacts,r=>(c(),$(te,{key:`chat-${r.id}`,user:r,onClick:U=>i.$emit("openChatOfContact",r.id)},null,8,["user","onClick"]))),128)),K(a("span",dt,"No contacts found",512),[[W,!e(h).contacts.length]])]),_:1})],64)}}},ht={class:"chat-log pa-5"},mt={class:"mb-0"},ft={class:"text-caption text-disabled mb-0",style:{"letter-spacing":"0.4px"}},pt={__name:"ChatLog",setup(x){const o=B(),s=R(()=>{var n,h;return{id:(n=o.activeChat)==null?void 0:n.contact.id,avatar:(h=o.activeChat)==null?void 0:h.contact.avatar}}),u=n=>n.isSeen?{icon:"ri-check-double-line",color:"success"}:n.isDelivered?{icon:"ri-check-double-line",color:void 0}:{icon:"ri-check-line",color:void 0},v=R(()=>{let n=[];const h=[];if(o.activeChat.chat){n=o.activeChat.chat.messages;let i=n[0].senderId,m={senderId:i,messages:[]};n.forEach((f,r)=>{i===f.senderId?m.messages.push({message:f.message,time:f.time,feedback:f.feedback}):(i=f.senderId,h.push(m),m={senderId:f.senderId,messages:[{message:f.message,time:f.time,feedback:f.feedback}]}),r===n.length-1&&h.push(m)})}return h});return(n,h)=>(c(),_("div",ht,[(c(!0),_(k,null,O(e(v),(i,m)=>(c(),_("div",{key:i.senderId+String(m),class:S(["chat-group d-flex align-start",[{"flex-row-reverse":i.senderId!==e(s).id,"mb-10":e(v).length-1!==m}]])},[a("div",{class:S(["chat-avatar",i.senderId!==e(s).id?"ms-4":"me-4"])},[t(A,{size:"32"},{default:l(()=>{var f;return[t(z,{src:i.senderId===e(s).id?e(s).avatar:(f=e(o).profileUser)==null?void 0:f.avatar},null,8,["src"])]}),_:2},1024)],2),a("div",{class:S(["chat-body d-inline-flex flex-column",i.senderId!==e(s).id?"align-end":"align-start"])},[(c(!0),_(k,null,O(i.messages,(f,r)=>(c(),_("div",{key:f.time,class:S(["chat-content text-body-1 py-2 px-4 elevation-2",[i.senderId===e(s).id?"bg-surface chat-left":"bg-primary text-white chat-right",i.messages.length-1!==r?"mb-2":"mb-1"]])},[a("p",mt,b(f.message),1)],2))),128)),a("div",{class:S([{"text-right":i.senderId!==e(s).id},"d-flex align-center gap-2"])},[i.senderId!==e(s).id?(c(),$(p,{key:0,size:"16",color:u(i.messages[i.messages.length-1].feedback).color},{default:l(()=>[N(b(u(i.messages[i.messages.length-1].feedback).icon),1)]),_:2},1032,["color"])):I("",!0),a("p",ft,b(("formatDate"in n?n.formatDate:e(re))(i.messages[i.messages.length-1].time,{hour:"numeric",minute:"numeric"})),1)],2)],2)],2))),128))]))}},vt={class:"me-3 pt-3 text-end"},_t={class:"text-center px-6 mt-n2"},gt={key:1,class:"text-3xl"},Ct={class:"text-h5"},bt={class:"text-body-1 text-capitalize mb-0"},xt={class:"my-6 text-medium-emphasis"},yt=a("p",{for:"textarea-user-about",class:"text-base text-disabled mb-0"}," ABOUT ",-1),$t={class:"mb-6"},Vt=a("p",{class:"text-base text-disabled mb-0"}," STATUS ",-1),wt={class:"text-medium-emphasis chat-settings-section"},kt=a("p",{class:"text-base text-disabled mb-1"}," SETTINGS ",-1),Ut={class:"d-flex align-center pa-2"},St=a("h6",{class:"text-h6 font-weight-regular"}," Two-step Verification ",-1),It={class:"d-flex align-center pa-2"},At=a("h6",{class:"text-h6 font-weight-regular"}," Notification ",-1),Tt={class:"d-flex align-center pa-2"},zt=a("h6",{class:"text-h6 font-weight-regular"}," Invite Friends ",-1),Bt={class:"d-flex align-center pa-2"},Dt=a("h6",{class:"text-h6 font-weight-regular"}," Delete Account ",-1),Mt={__name:"ChatUserProfileSidebarContent",emits:["close"],setup(x,{emit:o}){const s=B(),{resolveAvatarBadgeVariant:u}=P(),v=[{title:"Online",value:"online",color:"success"},{title:"Away",value:"away",color:"warning"},{title:"Do not Disturb",value:"busy",color:"error"},{title:"Offline",value:"offline",color:"secondary"}],n=w(!0),h=w(!1);return(i,m)=>{const f=E("IconBtn");return e(s).profileUser?(c(),_(k,{key:0},[a("div",vt,[t(f,{onClick:m[0]||(m[0]=r=>i.$emit("close"))},{default:l(()=>[t(p,{class:"text-medium-emphasis",icon:"ri-close-line",size:"24"})]),_:1})]),a("div",_t,[t(T,{location:"bottom right","offset-x":"13","offset-y":"7",bordered:"",color:e(u)(e(s).profileUser.status),class:"chat-user-profile-badge mb-4"},{default:l(()=>[t(A,{size:"84",variant:e(s).profileUser.avatar?void 0:"tonal",color:e(s).profileUser.avatar?void 0:e(u)(e(s).profileUser.status)},{default:l(()=>[e(s).profileUser.avatar?(c(),$(z,{key:0,src:e(s).profileUser.avatar},null,8,["src"])):(c(),_("span",gt,b(("avatarText"in i?i.avatarText:e(F))(e(s).profileUser.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("h5",Ct,b(e(s).profileUser.fullName),1),a("p",bt,b(e(s).profileUser.role),1)]),t(e(q),{class:"ps-chat-user-profile-sidebar-content pb-5 px-5",options:{wheelPropagation:!1}},{default:l(()=>[a("div",xt,[yt,t(ge,{id:"textarea-user-about",modelValue:e(s).profileUser.about,"onUpdate:modelValue":m[1]||(m[1]=r=>e(s).profileUser.about=r),"auto-grow":"",class:"mt-1",rows:"3"},null,8,["modelValue"])]),a("div",$t,[Vt,t(Ce,{modelValue:e(s).profileUser.status,"onUpdate:modelValue":m[2]||(m[2]=r=>e(s).profileUser.status=r),class:"mt-1"},{default:l(()=>[(c(),_(k,null,O(v,r=>t(be,{key:r.title,label:r.title,value:r.value,color:r.color},null,8,["label","value","color"])),64))]),_:1},8,["modelValue"])]),a("div",wt,[kt,a("div",Ut,[t(p,{class:"me-2",icon:"ri-lock-password-line",size:"22",color:"high-emphasis"}),St,t(J),t(ee,{modelValue:e(n),"onUpdate:modelValue":m[3]||(m[3]=r=>V(n)?n.value=r:null),density:"compact"},null,8,["modelValue"])]),a("div",It,[t(p,{class:"me-2",icon:"ri-notification-line",size:"22",color:"high-emphasis"}),At,t(J),t(ee,{modelValue:e(h),"onUpdate:modelValue":m[4]||(m[4]=r=>V(h)?h.value=r:null)},null,8,["modelValue"])]),a("div",Tt,[t(p,{class:"me-2",icon:"ri-user-add-line",size:"22",color:"high-emphasis"}),zt]),a("div",Bt,[t(p,{class:"me-2",icon:"ri-delete-bin-7-line",size:"22",color:"high-emphasis"}),Dt])]),t(L,{block:"",color:"primary",class:"mt-11","append-icon":"ri-logout-box-r-line"},{default:l(()=>[N(" Logout ")]),_:1})]),_:1})],64)):I("",!0)}}},Nt={key:0,class:"d-flex flex-column h-100"},Ot={class:"active-chat-header d-flex align-center text-medium-emphasis"},Pt={key:1},Lt={class:"flex-grow-1 overflow-hidden"},Rt={class:"text-h6 font-weight-regular"},Ft={class:"text-body-2 text-truncate mb-0"},Et={class:"d-sm-flex align-center gap-1 d-none"},qt={class:"d-flex gap-1 align-center"},jt={key:1,class:"d-flex h-100 align-center justify-center flex-column"},Jt={key:1,style:{"max-inline-size":"40ch","text-wrap":"balance"},class:"text-center text-disabled"},Ia={__name:"chat",setup(x){ue(C=>({"217cd932":e(ne)}));const o=he(),s=B(),{isLeftSidebarOpen:u}=xe(o.smAndDown),{resolveAvatarBadgeVariant:v}=P(),n=w(),h=()=>{const C=n.value.$el||n.value;C.scrollTop=C.scrollHeight},i=w("");me(i,C=>s.fetchChatsAndContacts(C),{immediate:!0});const m=()=>{o.mdAndUp.value||(u.value=!0)},f=w(""),r=async()=>{f.value.trim()&&(await s.sendMsg(f.value),f.value="",Y(()=>{h()}))},U=async C=>{await s.getChat(C),f.value="";const d=s.chatsContacts.find(y=>y.id===C);d&&(d.chat.unseenMsgs=0),o.smAndDown.value&&(u.value=!1),Y(()=>{h()})},D=w(!1),M=w(!1),H=w(),oe=[{title:"View Contact",value:"View Contact"},{title:"Mute Notifications",value:"Mute Notifications"},{title:"Block Contact",value:"Block Contact"},{title:"Clear Chat",value:"Clear Chat"},{title:"Report",value:"Report"}],{name:ie}=fe(),ne=R(()=>{var d,y;let C="transparent";return X&&(C=(y=(d=X)==null?void 0:d[ie.value].colors)==null?void 0:y["chat-bg"]),C});return(C,d)=>{const y=E("IconBtn");return c(),$($e,{class:"chat-app-layout bg-surface"},{default:l(()=>[t(j,{modelValue:e(D),"onUpdate:modelValue":d[1]||(d[1]=g=>V(D)?D.value=g:null),temporary:"",touchless:"",absolute:"",class:"user-profile-sidebar",location:"start",width:"370"},{default:l(()=>[t(Mt,{onClose:d[0]||(d[0]=g=>D.value=!1)})]),_:1},8,["modelValue"]),t(j,{modelValue:e(M),"onUpdate:modelValue":d[3]||(d[3]=g=>V(M)?M.value=g:null),width:"374",absolute:"",temporary:"",location:"end",touchless:"",class:"active-chat-user-profile-sidebar"},{default:l(()=>[t(Ye,{onClose:d[2]||(d[2]=g=>M.value=!1)})]),_:1},8,["modelValue"]),t(j,{modelValue:e(u),"onUpdate:modelValue":d[8]||(d[8]=g=>V(u)?u.value=g:null),absolute:"",touchless:"",location:"start",width:"370",temporary:C.$vuetify.display.smAndDown,class:"chat-list-sidebar",permanent:C.$vuetify.display.mdAndUp},{default:l(()=>[t(ut,{isDrawerOpen:e(u),"onUpdate:isDrawerOpen":d[4]||(d[4]=g=>V(u)?u.value=g:null),search:e(i),"onUpdate:search":d[5]||(d[5]=g=>V(i)?i.value=g:null),onOpenChatOfContact:U,onShowUserProfile:d[6]||(d[6]=g=>D.value=!0),onClose:d[7]||(d[7]=g=>u.value=!1)},null,8,["isDrawerOpen","search"])]),_:1},8,["modelValue","temporary","permanent"]),t(ye,{class:"chat-content-container"},{default:l(()=>[e(s).activeChat?(c(),_("div",Nt,[a("div",Ot,[t(y,{class:"d-md-none me-4",onClick:d[9]||(d[9]=g=>u.value=!0)},{default:l(()=>[t(p,{icon:"ri-menu-line"})]),_:1}),a("div",{class:"d-flex align-center cursor-pointer",onClick:d[10]||(d[10]=g=>M.value=!0)},[t(T,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:e(v)(e(s).activeChat.contact.status),bordered:"",class:"me-4"},{default:l(()=>[t(A,{size:"40",variant:e(s).activeChat.contact.avatar?void 0:"tonal",color:e(s).activeChat.contact.avatar?void 0:e(v)(e(s).activeChat.contact.status),class:"cursor-pointer"},{default:l(()=>[e(s).activeChat.contact.avatar?(c(),$(z,{key:0,src:e(s).activeChat.contact.avatar,alt:e(s).activeChat.contact.fullName},null,8,["src","alt"])):(c(),_("span",Pt,b(("avatarText"in C?C.avatarText:e(F))(e(s).activeChat.contact.fullName)),1))]),_:1},8,["variant","color"])]),_:1},8,["color"]),a("div",Lt,[a("h6",Rt,b(e(s).activeChat.contact.fullName),1),a("p",Ft,b(e(s).activeChat.contact.role),1)])]),t(J),a("div",Et,[t(y,{size:"small"},{default:l(()=>[t(p,{icon:"ri-phone-line"})]),_:1}),t(y,{size:"small"},{default:l(()=>[t(p,{icon:"ri-video-add-line"})]),_:1}),t(y,{size:"small"},{default:l(()=>[t(p,{icon:"ri-search-line"})]),_:1}),t(y,{size:"small"},{default:l(()=>[t(p,{icon:"ri-more-2-line"}),t(Ve,{activator:"parent"},{default:l(()=>[t(we,{items:oe})]),_:1})]),_:1})])]),t(se),t(e(q),{ref_key:"chatLogPS",ref:n,tag:"ul",options:{wheelPropagation:!1},class:"flex-grow-1"},{default:l(()=>[t(pt)]),_:1},512),t(ke,{class:"chat-log-message-form mb-5 mx-5",onSubmit:pe(r,["prevent"])},{default:l(()=>{var g;return[(c(),$(ae,{key:(g=e(s).activeChat)==null?void 0:g.contact.id,modelValue:e(f),"onUpdate:modelValue":d[12]||(d[12]=Q=>V(f)?f.value=Q:null),variant:"solo",density:"default",class:"chat-message-input",placeholder:"Type your message...",autofocus:""},{"append-inner":l(()=>[a("div",qt,[t(y,{size:"small"},{default:l(()=>[t(p,{icon:"ri-mic-line"})]),_:1}),t(y,{size:"small",onClick:d[11]||(d[11]=Q=>{var Z;return(Z=e(H))==null?void 0:Z.click()})},{default:l(()=>[t(p,{icon:"ri-attachment-2"})]),_:1}),t(L,{"append-icon":"ri-send-plane-line",onClick:r},{default:l(()=>[N(" Send ")]),_:1})])]),_:1},8,["modelValue"])),a("input",{ref_key:"refInputEl",ref:H,type:"file",name:"file",accept:".jpeg,.png,.jpg,GIF",hidden:""},null,512)]}),_:1})])):(c(),_("div",jt,[t(A,{size:"98",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[t(p,{size:"50",class:"rounded-0",icon:"ri-wechat-line"})]),_:1}),C.$vuetify.display.smAndDown?(c(),$(L,{key:0,rounded:"pill",onClick:m},{default:l(()=>[N(" Start Conversation ")]),_:1})):(c(),_("p",Jt," Start connecting with the people by selecting one of the contact on left "))]))]),_:1})]),_:1})}}};export{Ia as default};
