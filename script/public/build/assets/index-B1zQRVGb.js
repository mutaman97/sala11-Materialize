import{p as I}from"./paginationMeta-BbY5dJ0C.js";import{_ as L}from"./DialogCloseBtn-nwv0U9A1.js";import{V as z}from"./VCard-DLuue0SI.js";import{V as E}from"./VCardText-CmcafK4F.js";import{V as O}from"./VForm-CQfhZNSg.js";import{V as W}from"./VAlert-1l7ouRQK.js";import{V as q}from"./VTextField-BKkE6jAr.js";import{r as p,A as G,o as k,e as F,w as a,a as t,b as n,t as c,d as y,u as e,i as u,V as w,g as H,v as $,x as J,c as S,F as T,j as K,h as M}from"./main-Cw78g-lL.js";import{V as Q}from"./VCheckbox-CYOBAj51.js";import{V as X}from"./VDialog-BBP-EQpw.js";import{u as Y}from"./useApi-DW-wMX_v.js";import{c as Z}from"./createUrl-DmHIyhWr.js";import{V as ee}from"./VDataTableServer-BGBcjNhp.js";import{V as te}from"./VChip-BmMdWnsY.js";import{V as se}from"./VDivider-qVXjHTOM.js";import{V as ie}from"./VSelect-Bd1XwiRx.js";import"./VAvatar-BFNrWSvb.js";import"./VImg-DHwMjE9V.js";import"./form-wczSFyJg.js";import"./forwardRefs-C-GTDzx5.js";/* empty css                   */import"./VCounter-Dgzvj9pV.js";import"./index-DhMs0plD.js";import"./VField-Chh8HzJD.js";import"./easing-DY7PVvcf.js";import"./VInput-B2AKhCeD.js";import"./VCheckboxBtn-BX36Snjb.js";import"./VSelectionControl-DVPi5H3e.js";import"./VOverlay-DS9RY67J.js";import"./lazy-Dz28_Vpk.js";import"./scopeId-Dq-41LqQ.js";import"./dialog-transition-DYOtB0Vc.js";import"./index-CvdUsmOx.js";import"./VDataTable-2oej71_N.js";import"./VPagination-khwqltKr.js";import"./VTable-BzqFprxi.js";import"./filter-OYWg6emF.js";import"./VSlideGroup-BHv8mlqE.js";import"./VList-DJjA2_W7.js";import"./ssrBoot-B8feSXE9.js";import"./VMenu-DypGLeY7.js";const ae={class:"text-center mb-6"},oe={class:"text-h4 mb-2"},le={class:"text-body-1"},re={class:"d-flex align-center gap-4 mb-4"},ne={__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean,required:!0},permissionName:{type:String,required:!1,default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(A,{emit:f}){const m=A,V=f,r=p(""),o=()=>{V("update:isDialogVisible",!1),r.value=""},l=()=>{V("update:isDialogVisible",!1),V("update:permissionName",r.value)};return G(()=>m,()=>{r.value=m.permissionName}),(_,v)=>{const C=L;return k(),F(X,{width:_.$vuetify.display.smAndDown?"auto":600,"model-value":m.isDialogVisible,"onUpdate:modelValue":o},{default:a(()=>[t(z,{class:"pa-sm-8 pa-5"},{default:a(()=>[t(C,{variant:"text",size:"default",onClick:o}),t(E,{class:"mt-5"},{default:a(()=>[n("div",ae,[n("h4",oe,c(m.permissionName?"Edit":"Add")+" Permission ",1),n("p",le,c(m.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),t(O,null,{default:a(()=>[t(W,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:a(()=>[y(" By "+c(m.permissionName?"editing":"adding")+" the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding. ",1)]),_:1}),n("div",re,[t(q,{modelValue:e(r),"onUpdate:modelValue":v[0]||(v[0]=g=>u(r)?r.value=g:null),density:"compact",placeholder:"Enter Permission Name"},null,8,["modelValue"]),t(w,{onClick:l},{default:a(()=>[y(" Update ")]),_:1})]),t(Q,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},me={class:"d-flex gap-4"},pe={class:"text-h6 font-weight-regular"},de={class:"text-body-1"},ue={class:"d-flex justify-end flex-wrap gap-x-6 px-2 py-1"},ce={class:"d-flex align-center gap-x-2 text-medium-emphasis text-base"},fe={class:"d-flex align-center text-base text-high-emphasis me-2 mb-0"},ge={class:"d-flex gap-x-2 align-center me-2"},it={__name:"index",async setup(A){let f,m;const V=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],r=p(""),o=p(10),l=p(1),_=p(),v=p(),C=d=>{var i,x;l.value=d.page,_.value=(i=d.sortBy[0])==null?void 0:i.key,v.value=(x=d.sortBy[0])==null?void 0:x.order},g=p(!1),h=p(!1),D=p(""),N={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},{data:B}=([f,m]=H(()=>Y(Z("/apps/permissions",{query:{q:r,itemsPerPage:o,page:l,sortBy:_,orderBy:v}}))),f=await f,m(),f),j=$(()=>B.value.permissions),b=$(()=>B.value.totalPermissions),R=d=>{g.value=!0,D.value=d};return(d,i)=>{const x=J("IconBtn"),U=ne;return k(),S(T,null,[t(z,null,{default:a(()=>[t(E,{class:"d-flex align-center justify-sm-space-between justify-start gap-4 flex-wrap"},{default:a(()=>[t(q,{modelValue:e(r),"onUpdate:modelValue":i[0]||(i[0]=s=>u(r)?r.value=s:null),density:"compact",placeholder:"Search Permission",style:{"max-inline-size":"15.625rem","min-inline-size":"12rem"}},null,8,["modelValue"]),t(w,{density:"default",onClick:i[1]||(i[1]=s=>h.value=!0)},{default:a(()=>[y(" Add Permission ")]),_:1})]),_:1}),t(ee,{"items-per-page":e(o),"onUpdate:itemsPerPage":i[5]||(i[5]=s=>u(o)?o.value=s:null),"items-length":e(b),"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:V,items:e(j),"item-value":"name",class:"text-no-wrap","onUpdate:options":C},{"item.assignedTo":a(({item:s})=>[n("div",me,[(k(!0),S(T,null,K(s.assignedTo,P=>(k(),F(te,{key:P,color:N[P].color,size:"small"},{default:a(()=>[y(c(N[P].text),1)]),_:2},1032,["color"]))),128))])]),"item.name":a(({item:s})=>[n("h6",pe,c(s.name),1)]),"item.createdDate":a(({item:s})=>[n("span",de,c(s.createdDate),1)]),"item.actions":a(({item:s})=>[t(x,{size:"small"},{default:a(()=>[t(M,{icon:"ri-delete-bin-7-line"})]),_:1}),t(x,{size:"small",onClick:P=>R(s.name)},{default:a(()=>[t(M,{icon:"ri-edit-box-line"})]),_:2},1032,["onClick"])]),bottom:a(()=>[t(se),n("div",ue,[n("div",ce,[y(" Rows Per Page: "),t(ie,{modelValue:e(o),"onUpdate:modelValue":i[2]||(i[2]=s=>u(o)?o.value=s:null),class:"per-page-select",variant:"plain",items:[10,20,25,50,100]},null,8,["modelValue"])]),n("p",fe,c(("paginationMeta"in d?d.paginationMeta:e(I))({page:e(l),itemsPerPage:e(o)},e(b))),1),n("div",ge,[t(w,{class:"flip-in-rtl",icon:"ri-arrow-left-s-line",variant:"text",density:"comfortable",color:"high-emphasis",disabled:e(l)<=1,onClick:i[3]||(i[3]=s=>e(l)<=1?l.value=1:l.value--)},null,8,["disabled"]),t(w,{class:"flip-in-rtl",icon:"ri-arrow-right-s-line",density:"comfortable",variant:"text",color:"high-emphasis",disabled:e(l)>=Math.ceil(e(b)/e(o)),onClick:i[4]||(i[4]=s=>e(l)>=Math.ceil(e(b)/e(o))?l.value=Math.ceil(e(b)/e(o)):l.value++)},null,8,["disabled"])])])]),_:1},8,["items-per-page","items-length","items-per-page-options","items"])]),_:1}),t(U,{isDialogVisible:e(g),"onUpdate:isDialogVisible":i[6]||(i[6]=s=>u(g)?g.value=s:null),"permission-name":e(D),"onUpdate:permissionName":i[7]||(i[7]=s=>u(D)?D.value=s:null)},null,8,["isDialogVisible","permission-name"]),t(U,{isDialogVisible:e(h),"onUpdate:isDialogVisible":i[8]||(i[8]=s=>u(h)?h.value=s:null)},null,8,["isDialogVisible"])],64)}}};export{it as default};
