import{r as y,e as P}from"./validators-DD7Euqo8.js";import{r as u,a4 as B,e7 as j,x as A,o as E,c as M,a as e,w as t,b as o,u as a,al as V,t as x,d as i,R as N,i as S,V as $,F as U,bh as g,Z as z}from"./main-Cw78g-lL.js";import{_ as G}from"./AuthProvider-DvoqO6Is.js";import{a as O,b as W,c as Z,d as H}from"./auth-v2-login-illustration-light-Cq_WjjIB.js";import{a as J,b as K}from"./auth-v2-login-mask-light-DeyEO97R.js";import{V as Q}from"./VNodeRenderer-CQRqKfoX.js";import{u as v}from"./useGenerateImageVariant-WNsdL4gJ.js";import{u as X}from"./useAbility-BopWcrfj.js";import{$ as Y}from"./api-COQrmxD3.js";import{V as n,a as w}from"./VRow-BG5I4kc3.js";import{V as ee}from"./VImg-DHwMjE9V.js";import{V as ae}from"./VCard-DLuue0SI.js";import{V as h}from"./VCardText-CmcafK4F.js";import{V as te}from"./VAlert-1l7ouRQK.js";import{V as oe}from"./VForm-CQfhZNSg.js";import{V as k}from"./VTextField-BKkE6jAr.js";import{V as se}from"./VCheckbox-CYOBAj51.js";import{V as L}from"./VDivider-qVXjHTOM.js";import"./helpers-cDhjtOJI.js";import"./index-CvdUsmOx.js";/* empty css              */import"./VAvatar-BFNrWSvb.js";import"./form-wczSFyJg.js";import"./forwardRefs-C-GTDzx5.js";/* empty css                   */import"./VCounter-Dgzvj9pV.js";import"./index-DhMs0plD.js";import"./VField-Chh8HzJD.js";import"./easing-DY7PVvcf.js";import"./VInput-B2AKhCeD.js";import"./VCheckboxBtn-BX36Snjb.js";import"./VSelectionControl-DVPi5H3e.js";const re={class:"auth-logo app-logo"},le={class:"app-logo-title"},ie={class:"d-flex align-center justify-center pa-10"},ne=["src"],me={class:"text-h4 mb-1"},de={class:"text-capitalize"},ue=o("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),pe=o("p",{class:"text-caption mb-2 text-primary"},[i(" Admin Email: "),o("strong",null,"admin@demo.com"),i(" / Pass: "),o("strong",null,"admin")],-1),ce=o("p",{class:"text-caption mb-0 text-primary"},[i(" Client Email: "),o("strong",null,"client@demo.com"),i(" / Pass: "),o("strong",null,"client")],-1),fe={class:"d-flex align-center flex-wrap justify-space-between my-6 gap-x-2"},Ve=o("span",{class:"d-inline-block"}," New on our platform? ",-1),ge=o("span",{class:"mx-4 text-high-emphasis"},"or",-1),Ke={__name:"login",setup(he){const R=v(H,Z,W,O,!0),C=v(K,J),p=u(!1),_=B(),T=j(),I=X(),c=u({email:void 0,password:void 0}),b=u(),m=u({email:"admin@demo.com",password:"admin"}),f=u(!1),q=async()=>{try{const s=await Y("/auth/login",{method:"POST",body:{email:m.value.email,password:m.value.password},onResponseError({response:F}){c.value=F._data.errors}}),{accessToken:r,userData:d,userAbilityRules:l}=s;g("userAbilityRules").value=l,I.update(l),g("userData").value=d,g("accessToken").value=r,await z(()=>{T.replace(_.query.to?String(_.query.to):"/")})}catch(s){console.error(s)}},D=()=>{var s;(s=b.value)==null||s.validate().then(({valid:r})=>{r&&q()})};return(s,r)=>{const d=A("RouterLink");return E(),M(U,null,[e(d,{to:"/"},{default:t(()=>[o("div",re,[e(a(Q),{nodes:a(V).app.logo},null,8,["nodes"]),o("h1",le,x(a(V).app.title),1)])]),_:1}),e(w,{"no-gutters":"",class:"auth-wrapper"},{default:t(()=>[e(n,{md:"8",class:"d-none d-md-flex align-center justify-center position-relative"},{default:t(()=>[o("div",ie,[o("img",{src:a(R),class:"auth-illustration w-100",alt:"auth-illustration"},null,8,ne)]),e(ee,{src:a(C),class:"d-none d-md-flex auth-footer-mask",alt:"auth-mask"},null,8,["src"])]),_:1}),e(n,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:t(()=>[e(ae,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-5 pa-lg-7"},{default:t(()=>[e(h,null,{default:t(()=>[o("h4",me,[i(" Welcome to "),o("span",de,x(a(V).app.title)+"!",1),i(" 👋🏻 ")]),ue]),_:1}),e(h,null,{default:t(()=>[e(te,{color:"primary",variant:"tonal"},{default:t(()=>[pe,ce]),_:1})]),_:1}),e(h,null,{default:t(()=>[e(a(oe),{ref_key:"refVForm",ref:b,onSubmit:N(D,["prevent"])},{default:t(()=>[e(w,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(k,{modelValue:a(m).email,"onUpdate:modelValue":r[0]||(r[0]=l=>a(m).email=l),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in s?s.requiredValidator:a(y),"emailValidator"in s?s.emailValidator:a(P)],"error-messages":a(c).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(k,{modelValue:a(m).password,"onUpdate:modelValue":r[1]||(r[1]=l=>a(m).password=l),label:"Password",placeholder:"············",rules:["requiredValidator"in s?s.requiredValidator:a(y)],type:a(p)?"text":"password","error-messages":a(c).password,"append-inner-icon":a(p)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":r[2]||(r[2]=l=>p.value=!a(p))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),o("div",fe,[e(se,{modelValue:a(f),"onUpdate:modelValue":r[3]||(r[3]=l=>S(f)?f.value=l:null),label:"Remember me"},null,8,["modelValue"]),e(d,{class:"text-primary",to:{name:"forgot-password"}},{default:t(()=>[i(" Forgot Password? ")]),_:1})]),e($,{block:"",type:"submit"},{default:t(()=>[i(" Login ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-body-1 text-center"},{default:t(()=>[Ve,e(d,{class:"text-primary ms-1 d-inline-block text-body-1",to:{name:"register"}},{default:t(()=>[i(" Create an account ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:t(()=>[e(L),ge,e(L)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[e(G)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{Ke as default};
